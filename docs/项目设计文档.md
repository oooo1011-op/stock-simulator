# A股量化模拟盘系统

## 项目概述

基于101个Alpha因子的A股量化模拟盘系统，包含回测和实盘模拟功能。

## 目录结构

```
stock_simulator/
├── src/
│   ├── data/          # 数据获取 (akshare/baostock)
│   ├── models/        # Alpha因子计算
│   ├── database/      # PostgreSQL/Redis操作
│   ├── engine/        # 回测/模拟盘引擎
│   ├── scheduler/     # 任务调度
│   └── api/          # FastAPI接口
├── frontend/         # Streamlit界面
├── tests/           # 测试
├── docker-compose.yml
├── pyproject.toml
└── README.md
```

## 配置

### 数据库
- PostgreSQL: 192.168.2.151:15432 (user=oooo, db=stock)
- Redis: 192.168.2.1<PASSWORD> (缓存)

### 回测参数
- 初始资金: 10万
- 回测周期: 2008-01-01 ~ 2025-12-31
- 手续费: 万5 (0.05%)
- 滑点: 0.1%

### 模拟盘参数
- 初始资金: 10万
- 调仓频率: 每周一开盘
- 持仓数量: 5-10只
- 仓位规则: 等权分配
- 手续费: 万5 (0.05%)
- 滑点: 0.1%

## 因子说明

### 原始101个因子
来源: Kakushadze "101 Formulaic Alphas" (2015)

### 剔除因子
- 需要行业分类数据的因子 (indneutralize)
- 剩余约90个因子

### 因子计算函数
- rank: 截面排序
- delay: 滞后N天
- correlation: 相关性
- covariance: 协方差
- delta: 差分
- sum/product: 滚动求和/积
- stddev: 标准差
- ts_rank: 时序排名
- ts_min/ts_max: 时序极值
- scale: 归一化
- decay_linear: 线性衰减加权

## 评估指标

### 回测指标
- 年化收益率 (Annual Return)
- 夏普比率 (Sharpe Ratio)
- 最大回撤 (Max Drawdown)
- 胜率 (Win Rate)
- 交易次数

### 因子筛选标准
- 年化收益率 > 15%
- 夏普比率 > 1.0
- 最大回撤 < 20%
- 胜率 > 50%

## 数据源

### akshare
- 股票日线数据
- 2008-01-01至今
- 字段: date, open, high, low, close, volume, amount

## TODO

- [ ] 数据获取模块
- [ ] Alpha因子计算模块
- [ ] 回测引擎
- [ ] 因子筛选器
- [ ] 模拟盘引擎
- [ ] Streamlit前端
- [ ] API接口
- [ ] 单元测试
